id: simula_get_params_v1
version: "1.0.0"

# Orchestrator will call this scope
scope: simula.react.get_params

identity:
  agent: Simula
  persona_partial: simula_persona

safety:
  partials:
    - safety_guardrails

# Keep your usual lens; schema is injected at runtime, not from a file
context_lenses:
  - equor.identity

# We include a strict JSON guard + the main planner partial (both live in templates.yaml)
partials:
  - partials/json_guard_strict.j2
  - simula_params_planner_main

outputs:
  parse_mode: auto_repair   # same behavior you use elsewhere; tolerant but strict

budget_policy:
  max_tokens_fallback: 1024
